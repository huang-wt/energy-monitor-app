\hypertarget{power_8h_source}{}\doxysection{power.\+h}
\label{power_8h_source}\index{src/power.h@{src/power.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ POWER\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ POWER\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classPower}{Power}}\ \{}
\DoxyCodeLine{00009\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPower}{Power}}*\ \mbox{\hyperlink{classPower_a1af979254859dec73c92c8f0cb012432}{Instance}}();}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classPower_a82971c5a5461a57e5d58b5664de66d7d}{UpdatePowerAndEnergyUsage}}();}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classPower_a04553d70a7de54e2e578d78951840fb9}{CurrHourEnergyUsage}}();}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classPower_ad617abfa1ba104294f1684d63fdcef31}{CurrPowerUsage}}();}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classPower_a588b2ed84e3dd99ceaeadfae07820581}{TodaysTotalEnergyUsage}}();}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ std::vector<double>\ \mbox{\hyperlink{classPower_af2795e0554b26deff9492d89bb9c080d}{HoursEnergyUsages}}();}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ std::map<std::string,\ double>\ \mbox{\hyperlink{classPower_a523069b2125b815361fd3487ed17a360}{LastNDaysEnergyUsage}}(\textcolor{keywordtype}{int}\ n);}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classPower}{Power}}();}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ ResetLogVector();}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ std::string\ FormatDate(\textcolor{keywordtype}{int}\ year,\ \textcolor{keywordtype}{int}\ mon,\ \textcolor{keywordtype}{int}\ day);}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ std::string\ LastLoggedDate();}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ UpdateDaysLogFile(std::string\ date);}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ EnergyUsageInUj();}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ UpdateHoursLogFile(std::string\ date);}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ UpdateLogVector();}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPower}{Power}}*\ instance;}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ std::string\ hours\_log\_file\ =\ \textcolor{stringliteral}{"{}../data/hours\_power\_usage.csv"{}};}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ std::string\ days\_log\_file\ =\ \textcolor{stringliteral}{"{}../data/days\_power\_usage.csv"{}};}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ std::string\ energy\_usage\_path\ =\ \textcolor{stringliteral}{"{}/sys/class/powercap/intel-\/rapl/intel-\/rapl:1/energy\_uj"{}};}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ std::string\ mex\_energy\_path\ =\ \textcolor{stringliteral}{"{}/sys/class/powercap/intel-\/rapl/intel-\/rapl:1/max\_energy\_range\_uj"{}};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Record\ energy\ usages\ in\ every\ hour\ in\ a\ day}}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ std::vector<double>\ hours\_energy\_usages;}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ energy\ amount\ got\ from\ the\ system\ will}}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ reset\ to\ zero\ when\ it\ exceeds\ this\ bound}}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ max\_energy;}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ curr\_hour\_energy\_usage;}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ curr\_power\_usage;}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \};}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
